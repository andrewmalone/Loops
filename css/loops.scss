@import "flex";
$border-color: #666;
$border-light: 1px solid lighten($border-color, 20%);
$border: 2px solid $border-color;

@mixin square($size) {
	width: $size;
	height: $size;
	line-height: $size;
}

* {
	@include box-sizing(border-box);
}
html {
	height:100%;
}
body {
	font-family: 'Source Sans Pro', Arial;
	padding: 0;
	margin: 0;
	height:100%
}

#drumseq, #bseq {
    @include flexbox;
    font-size:.8em;
    padding:.2em;
    width: 60%;
    float:left;
}
#drum-grid, #bass-grid {
    @include flex(1);
    border: $border;
}
#drum-labels, #bass-labels {
	width: 4em;
}
.row {
    @include flexbox;
    border-bottom: $border-light;
    height: 1.2em;
}
.row:last-child {
	border-bottom-width: 0;
}
.label {
    height: 1.2em;
    text-align: right;
    padding-right:.2em;
}
.cell {
    @include flex(1);
	border-left: $border-light;
	position:relative;
}
.cell:nth-of-type(4n + 1) {
	border-left: $border;
}
.cell:first-child {
	border-left-width: 0;
}
.cell-inner {
	position:absolute;
	height:100%;
	left:0;
	right:0;
}
.cell-inner.on {
	background: red;
}
#bass-grid .cell-inner.on {
	border:1px solid #ccc;
	background:#fff;
	z-index: 1;
}
.cell-inner.on .note {
	background:orange;
	width:100%;
	height:100%;
	box-shadow: inset 1px 1px 2px 0 #eee,
		inset -1px -1px 2px 0 #999;
	opacity: .8;	
}

#bass-grid .row:nth-child(3),
#bass-grid .row:nth-child(5),
#bass-grid .row:nth-child(7),
#bass-grid .row:nth-child(10),
#bass-grid .row:nth-child(12),
{
	background:#eee;
}
.panel {
	clear:left;
	overflow: hidden;
}
h3 {
	margin: 0;
	padding: .2em 1em;
}

@mixin pattern() {
	@include square(2em);
	border: $border-light;
	padding:0 .2em;
	text-align:center;
	margin-right:.5em;
}
.patterns, .sequence {
	margin-bottom:.5em;
	overflow:hidden;
	div {
		float:left;
	}
	.pattern {
		@include pattern;
	}
	.pattern.active {
		border: $border;
	}
	.pattern.over {
		border-color:red;
	}
}
.pattern.shadow {
	@include pattern;
	position:absolute;
	background:#eee;
	top:0;
	left:0;
}
.sequence .label,
.patterns .label {
	width: 5em;
	height: 2em;
	line-height:2em;
}
.mode {
	clear:left;
	float: none;
	width:100%;
	text-align:center;
	height:2em;
	line-height:2em;
}
#fx-panel {
    position: absolute;
    top: 2em;
    left: 0;
    background: #fff;
    width: 100%;
    height: 100%;
    overflow:hidden;
    label {
	    width: 5em;
	    display: inline-block;
	    text-align: right;
	    padding-right: .2em;
	    margin-bottom: .2em;
	}
}

.fx-section {
    float: left;
    margin: 1em;
}